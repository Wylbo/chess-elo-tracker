<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess ELO Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3"></script>
</head>

<body>
    <div class="shell">
        <div class="header">
            <div class="title">Chess ELO Tracker</div>
            <div class="subtitle">Track Chess.com ratings for you and your friends. Add usernames, choose a time
                control, and toggle curves to see how everyone is progressing.</div>
        </div>

        <div class="panels">
            <div class="panel controls">
                <form id="add-form">
                    <div class="field">
                        <label for="username">Chess.com username</label>
                        <input id="username" name="username" type="text" autocomplete="off" placeholder="e.g. hikaru"
                            required>
                    </div>
                    <div class="field field-time-control">
                        <label for="time-class">Time control</label>
                        <select id="time-class" name="time-class">
                            <option value="blitz">Blitz</option>
                            <option value="bullet">Bullet</option>
                            <option value="rapid">Rapid</option>
                            <option value="daily">Daily</option>
                        </select>
                    </div>
                    <button type="submit" class="primary-btn">Add player</button>
                </form>
                <div class="hint">Uses public Chess.com data. Fetches the last few months of games for the selected time
                    control and adds the most recent rating from Chess.com stats.</div>
                <div id="status" class="status" data-tone="info">Waiting for players to track.</div>
                <div class="collapsible">
                    <button class="collapsible-trigger" type="button" id="players-toggle" aria-expanded="true">
                        <span>Tracked players</span>
                        <span class="pill" id="player-count">0</span>
                        <span class="chevron" aria-hidden="true">v</span>
                    </button>
                    <div class="collapsible-body" id="players-body">
                        <div class="list" id="player-list"></div>
                    </div>
                </div>
            </div>

            <div class="panel chart-panel">
                <div class="range-panel">
                    <div class="range-header">
                        <div class="range-buttons">
                            <button type="button" data-window="7">1w</button>
                            <button type="button" data-window="30">1m</button>
                            <button type="button" data-window="90">3m</button>
                            <button type="button" data-window="180" class="active">6m</button>
                            <button type="button" data-window="365">1y</button>
                            <button type="button" data-window="max">max</button>
                        </div>
                        <span class="range-values" id="window-value">180 days</span>
                    </div>
                </div>
                <div class="chart-wrap">
                    <canvas id="elo-chart"></canvas>
                </div>
                <div class="range-selector-panel">
                    <div class="range-selector-label">Timeline</div>
                    <div class="range-selector-wrap">
                        <canvas id="range-chart"></canvas>
                        <div id="range-overlay" class="range-overlay"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>
